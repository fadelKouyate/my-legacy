(this.webpackJsonpcov_gn=this.webpackJsonpcov_gn||[]).push([[25],{553:function(e,a,t){"use strict";t.d(a,"a",(function(){return o}));var n=t(13),r=t(1),l=t.n(r),c=t(562);function o(e,a){var t=function(a,t){return l.a.createElement(c.a,Object(n.a)({ref:t},a),e)};return t.muiName=c.a.muiName,l.a.memo(l.a.forwardRef(t))}},566:function(e,a,t){"use strict";var n=t(13),r=t(32),l=t(543),c=t(34),o=t(1),s=t.n(o),i=t(63),m=t.n(i),u=t(540),v=t.n(u),p=t(541),d={children:m.a.node,type:m.a.string,size:m.a.string,bsSize:m.a.string,valid:m.a.bool,invalid:m.a.bool,tag:p.m,innerRef:m.a.oneOfType([m.a.object,m.a.func,m.a.string]),plaintext:m.a.bool,addon:m.a.bool,className:m.a.string,cssModule:m.a.object},h=function(e){function a(a){var t;return(t=e.call(this,a)||this).getRef=t.getRef.bind(Object(l.a)(t)),t.focus=t.focus.bind(Object(l.a)(t)),t}Object(c.a)(a,e);var t=a.prototype;return t.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},t.focus=function(){this.ref&&this.ref.focus()},t.render=function(){var e=this.props,a=e.className,t=e.cssModule,l=e.type,c=e.bsSize,o=e.valid,i=e.invalid,m=e.tag,u=e.addon,d=e.plaintext,h=e.innerRef,f=Object(r.a)(e,["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"]),E=["radio","checkbox"].indexOf(l)>-1,_=new RegExp("\\D","g"),b=m||("select"===l||"textarea"===l?l:"input"),g="form-control";d?(g+="-plaintext",b=m||"input"):"file"===l?g+="-file":E&&(g=u?null:"form-check-input"),f.size&&_.test(f.size)&&(Object(p.n)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),c=f.size,delete f.size);var y=Object(p.i)(v()(a,i&&"is-invalid",o&&"is-valid",!!c&&"form-control-"+c,g),t);return("input"===b||m&&"function"===typeof m)&&(f.type=l),f.children&&!d&&"select"!==l&&"string"===typeof b&&"select"!==b&&(Object(p.n)('Input with a type of "'+l+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete f.children),s.a.createElement(b,Object(n.a)({},f,{ref:h,className:y}))},a}(s.a.Component);h.propTypes=d,h.defaultProps={type:"text"},a.a=h},580:function(e,a,t){"use strict";var n=t(13),r=t(32),l=t(1),c=t.n(l),o=t(63),s=t.n(o),i=t(540),m=t.n(i),u=t(541),v={children:s.a.node,tag:u.m,className:s.a.string,cssModule:s.a.object,valid:s.a.bool,tooltip:s.a.bool},p={tag:"div",valid:void 0},d=function(e){var a=e.className,t=e.cssModule,l=e.valid,o=e.tooltip,s=e.tag,i=Object(r.a)(e,["className","cssModule","valid","tooltip","tag"]),v=o?"tooltip":"feedback",p=Object(u.i)(m()(a,l?"valid-"+v:"invalid-"+v),t);return c.a.createElement(s,Object(n.a)({},i,{className:p}))};d.propTypes=v,d.defaultProps=p,a.a=d},640:function(e,a,t){"use strict";var n=t(13),r=t(32),l=t(1),c=t.n(l),o=t(63),s=t.n(o),i=t(540),m=t.n(i),u=t(541),v={children:s.a.node,row:s.a.bool,check:s.a.bool,inline:s.a.bool,disabled:s.a.bool,tag:u.m,className:s.a.string,cssModule:s.a.object},p=function(e){var a=e.className,t=e.cssModule,l=e.row,o=e.disabled,s=e.check,i=e.inline,v=e.tag,p=Object(r.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),d=Object(u.i)(m()(a,!!l&&"row",s?"form-check":"form-group",!(!s||!i)&&"form-check-inline",!(!s||!o)&&"disabled"),t);return"fieldset"===v&&(p.disabled=o),c.a.createElement(v,Object(n.a)({},p,{className:d}))};p.propTypes=v,p.defaultProps={tag:"div"},a.a=p},713:function(e,a,t){},722:function(e,a,t){"use strict";var n=t(542),r=t(13),l=t(1),c=(t(63),t(545)),o=t(546),s=l.forwardRef((function(e,a){var t=e.classes,o=e.className,s=e.component,i=void 0===s?"div":s,m=e.square,u=void 0!==m&&m,v=e.elevation,p=void 0===v?1:v,d=e.variant,h=void 0===d?"elevation":d,f=Object(n.a)(e,["classes","className","component","square","elevation","variant"]);return l.createElement(i,Object(r.a)({className:Object(c.a)(t.root,o,"outlined"===h?t.outlined:t["elevation".concat(p)],!u&&t.rounded),ref:a},f))}));a.a=Object(o.a)((function(e){var a={};return e.shadows.forEach((function(e,t){a["elevation".concat(t)]={boxShadow:e}})),Object(r.a)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},a)}),{name:"MuiPaper"})(s)},833:function(e,a,t){"use strict";t.r(a);var n=t(557),r=t.n(n),l=t(558),c=t(173),o=t(167),s=t(168),i=t(172),m=t(170),u=t(169),v=(t(713),t(1)),p=t.n(v),d=t(797),h=t(554),f=t(555),E=t(570),_=t(573),b=t(571),g=t(640),y=t(641),j=t(566),S=t(580),O=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){var e=this.props,a=e.error,t=e.message,n=e.formStep,r=e.activeStep,l=e.value_mail,c=e.handleChange,o=e.value_password,s=e.value_password_confirmer,i=e.errorStep;return n!==r?null:p.a.createElement(d.a,null,p.a.createElement(h.a,{className:"justify-content-center"},p.a.createElement(f.a,{md:"5"},p.a.createElement("br",null),p.a.createElement(E.a,null,p.a.createElement(_.a,null,p.a.createElement("i",{className:"fa fa-align-justify"}),p.a.createElement("strong",null,"Identification")),p.a.createElement(b.a,null,p.a.createElement(g.a,null,p.a.createElement(y.a,{htmlFor:"name"},"Email"),p.a.createElement(j.a,{type:"mail",id:"cov_mail",name:"cov_mail",placeholder:"",value:l,onChange:c,invalid:a&&1===i}),p.a.createElement(S.a,null," ",t," ")),p.a.createElement(h.a,null,p.a.createElement(f.a,{xs:"6"},p.a.createElement(g.a,null,p.a.createElement(y.a,{htmlFor:"cov_phone"},"Mot de passe"),p.a.createElement(j.a,{type:"password",id:"cov_password",name:"cov_password",value:o,onChange:c,invalid:a&&2===i,autoComplete:"password"}),p.a.createElement(S.a,null," ",t," "))),p.a.createElement(f.a,{xs:"6"},p.a.createElement(g.a,null,p.a.createElement(y.a,{htmlFor:"cov_phone"},"Confirmer"),p.a.createElement(j.a,{type:"password",id:"cov_password_confirmer",name:"cov_password_confirmer",value:s,onChange:c,invalid:a&&3===i,autoComplete:"password"}),p.a.createElement(S.a,null," ",t," ")))))))))}}]),t}(v.Component),k=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){var e=this.props,a=e.error,t=e.message,n=e.formStep,r=e.activeStep,l=e.value_first_name,c=e.value_last_name,o=e.handleChange,s=e.errorStep;return n!==r?null:p.a.createElement(d.a,null,p.a.createElement(h.a,{className:"justify-content-center"},p.a.createElement(f.a,{md:"5"},p.a.createElement("br",null),p.a.createElement(E.a,null,p.a.createElement(_.a,null,p.a.createElement("i",{className:"fa fa-align-justify"}),p.a.createElement("strong",null,"Nom et pr\xe9nom")),p.a.createElement(b.a,null,p.a.createElement(g.a,null,p.a.createElement(y.a,{htmlFor:"cov_first_name"},"Nom"),p.a.createElement(j.a,{type:"text",id:"cov_first_name",name:"cov_first_name",value:l,onChange:o,invalid:a&&1===s}),p.a.createElement(S.a,null," ",t," ")),p.a.createElement(g.a,null,p.a.createElement(y.a,{htmlFor:"cov_last_name"},"Prenom"),p.a.createElement(j.a,{type:"text",id:"cov_last_name",name:"cov_last_name",value:c,onChange:o,invalid:a&&2===s}),p.a.createElement(S.a,null," ",t," ")))))))}}]),t}(v.Component),x=t(714),N=t(556),w=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){var e=this,a=this.props.save;return p.a.createElement(h.a,{className:"justify-content-center"},p.a.createElement(f.a,{xs:"12",md:"4"},p.a.createElement(E.a,null,p.a.createElement(_.a,null,p.a.createElement("i",{className:"fa fa-align-justify"}),p.a.createElement("strong",null,"Inscription"),p.a.createElement("small",null)),p.a.createElement(b.a,null,a?p.a.createElement(x.a,{color:"success"},p.a.createElement("h4",{className:"alert-heading"},"Bravo"),p.a.createElement("p",null,"Inscription termin\xe9e avec succ\xe8s. Vous allez recevoir un mail pour valider votre inscription"),p.a.createElement("hr",null),p.a.createElement("p",{className:"mb-0"},"Le lien de validation expire dans 24 heures.")):p.a.createElement(x.a,{color:"danger"},p.a.createElement("h4",{className:"alert-heading"},"Error!"),p.a.createElement("p",null,"Inscription termin\xe9e avec erreur. Vous r\xe9\xe9essayer plus tard"),p.a.createElement("hr",null),p.a.createElement("p",{className:"mb-0"},"Erreur serveur")),p.a.createElement(h.a,{className:"justify-content-center"},p.a.createElement(f.a,{xs:"3"},p.a.createElement(N.a,{onClick:function(){return e.props.goHome()},color:"primary",className:"px-4"},"OK")))))))}}]),t}(v.Component),C=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){var e=this.props,a=e.error,t=e.message,n=e.formStep,r=e.activeStep,l=e.value_phone,c=e.value_city,o=e.value_gender,s=e.handleChange,i=e.errorStep;return n!==r?null:p.a.createElement(d.a,null,p.a.createElement(h.a,{className:"justify-content-center"},p.a.createElement(f.a,{md:"5"},p.a.createElement("br",null),p.a.createElement(E.a,null,p.a.createElement(_.a,null,p.a.createElement("i",{className:"fa fa-align-justify"}),p.a.createElement("strong",null,"Compl\xe9ter les informations")),p.a.createElement(b.a,null,p.a.createElement(g.a,null,p.a.createElement(y.a,{htmlFor:"cov_phone"},"Ville"),p.a.createElement(j.a,{type:"text",id:"cov_city",name:"cov_city",value:c,onChange:s,invalid:a&&1===i}),p.a.createElement(S.a,null," ",t," ")),p.a.createElement(h.a,null,p.a.createElement(f.a,{xs:"8"},p.a.createElement(g.a,null,p.a.createElement(y.a,{htmlFor:"cov_phone"},"Num\xe9ro de t\xe9l\xe9phone"),p.a.createElement(j.a,{type:"text",id:"cov_phone",name:"cov_phone",value:l,onChange:s,invalid:a&&2===i}),p.a.createElement(S.a,null," ",t," "))),p.a.createElement(f.a,{xs:"4"},p.a.createElement(g.a,null,p.a.createElement(y.a,{htmlFor:"ccmonth"},"Sexe"),p.a.createElement(j.a,{type:"select",name:"cov_gender",id:"cov_gender",value:o,onChange:s,invalid:a&&3===i},p.a.createElement("option",{value:"M"},"Homme"),p.a.createElement("option",{value:"F"},"Femme")),p.a.createElement(S.a,null," ",t," ")))))))))}}]),t}(v.Component),R=t(812),V=t(813),M=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){var e=this.props,a=e.formStep,t=e.activeStep,n=e.cov_user;return a!==t?null:p.a.createElement(d.a,null,p.a.createElement("div",{className:"animated fadeIn"},p.a.createElement(h.a,{className:"justify-content-center"},p.a.createElement(f.a,{sm:"12",md:"5"},p.a.createElement(E.a,null,p.a.createElement(_.a,null,p.a.createElement("i",{className:"fa fa-align-justify"}),p.a.createElement("strong",null,"Recapitulatif")),p.a.createElement(b.a,null,p.a.createElement(R.a,null,p.a.createElement(V.a,null,p.a.createElement("strong",null,"Email :")," ",n.cov_mail," "),p.a.createElement(V.a,null,p.a.createElement("strong",null,"Nom : ")," ",n.cov_last_name),p.a.createElement(V.a,null,p.a.createElement("strong",null,"Prenom : "),n.cov_first_name," "),p.a.createElement(V.a,null,p.a.createElement("strong",null,"Sexe : ")," ",n.cov_gender),p.a.createElement(V.a,null,p.a.createElement("strong",null,"Telephone : "),n.cov_phone," "),p.a.createElement(V.a,null,p.a.createElement("strong",null,"Ville : "),n.cov_city," "))))))))}}]),t}(v.Component),z=t(171),F=t(814),P=t(589),H=t(842),I=t(578),B=t(835),T=t(561),D=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).state={cov_mail:"",cov_first_name:"",cov_last_name:"",cov_city:"",cov_phone:"",cov_gender:"H",cov_password:"",cov_password_confirmer:"",activeStep:0,save:!1,error:!1,errorStep:-1,message:"",cov_mail_exist:!1},n.handleChange=n.handleChange.bind(Object(i.a)(n)),n.handleNext=n.handleNext.bind(Object(i.a)(n)),n.handleBack=n.handleBack.bind(Object(i.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(i.a)(n)),n.goHome=n.goHome.bind(Object(i.a)(n)),n.steps=["Identification","Noms","Autres","Validation"],n}return Object(s.a)(t,[{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState(Object(c.a)({},t,n))}},{key:"checkEmail",value:function(){var e=Object(l.a)(r.a.mark((function e(a){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.checkMail(a);case 3:t=e.sent,this.setState({cov_mail_exist:t.data}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()},{key:"handleNext",value:function(){var e=Object(l.a)(r.a.mark((function e(){var a,t,n,l,c,o,s,i,m,u,v;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,t=a.activeStep,n=a.cov_mail,l=a.cov_first_name,c=a.cov_last_name,o=a.cov_gender,s=a.cov_phone,i=a.cov_city,m=a.cov_password,u=a.cov_password_confirmer,!(t<this.steps.length-1)){e.next=21;break}if(v={},0!==t){e.next=17;break}if(!(v=I.a.checkValue("cov_mail",n,1)).resultat){e.next=15;break}return e.next=8,this.checkEmail(n);case 8:if(!this.state.cov_mail_exist){e.next=11;break}return this.setState({error:!0,message:"Ce compte existe d\xe9j\xe0",errorStep:1}),e.abrupt("return");case 11:if(v=I.a.checkValue("cov_password",m,2),m===u){e.next=15;break}return this.setState({error:!0,message:"mots de passe diff\xe9rents",errorStep:2}),e.abrupt("return");case 15:e.next=18;break;case 17:1===t?(v=I.a.checkValue("cov_names",l,1)).resultat&&(v=I.a.checkValue("cov_names",c,2)):2===t&&((v=I.a.checkValue("cov_city",i,1)).resultat&&(v=I.a.checkValue("cov_phone",s,2)),v.resultat&&(v=I.a.checkValue("cov_gender",o,3)));case 18:if(v.resultat){e.next=21;break}return this.setState({error:!0,message:v.message,errorStep:v.errorStep}),e.abrupt("return");case 21:this.setState({error:!1,message:"",activeStep:t+1});case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleBack",value:function(){this.setState({error:!1,activeStep:this.state.activeStep-1})}},{key:"goHome",value:function(){this.props.history.push("/")}},{key:"cov_user",value:function(){var e=this.state;return{cov_mail:e.cov_mail,cov_first_name:e.cov_first_name,cov_last_name:e.cov_last_name,cov_gender:e.cov_gender,cov_phone:e.cov_phone,cov_city:e.cov_city,cov_password:e.cov_password,cov_description:""}}},{key:"handleSubmit",value:function(e){var a=this;e.preventDefault();var t=this.cov_user();this.props.dispatch(T.a.saveUser(t)).then((function(e){a.setState({save:!0}),a.handleNext()})).catch((function(e){a.setState({save:!1}),a.handleNext()}))}},{key:"render",value:function(){var e=this.steps,a=this.cov_user(),t=this.state,n=t.activeStep,r=t.cov_mail,l=t.cov_first_name,c=t.cov_last_name,o=t.cov_phone,s=t.cov_city,i=t.cov_gender,m=t.cov_password,u=t.cov_password_confirmer,v=t.message,d=t.error,E=t.errorStep;return p.a.createElement("div",{className:"animated fadeIn"},p.a.createElement(h.a,null,p.a.createElement(f.a,{xs:"12"},p.a.createElement(H.a,{activeStep:n,alternativeLabel:!0},e.map((function(e){return p.a.createElement(F.a,{key:e},p.a.createElement(B.a,null,e))}))),p.a.createElement("div",null,n===e.length?p.a.createElement(w,{save:this.state.save,goHome:this.goHome}):p.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},p.a.createElement("div",null,p.a.createElement(O,{formStep:0,activeStep:n,value_mail:r,value_password:m,value_password_confirmer:u,message:v,error:d,errorStep:E,handleChange:this.handleChange}),p.a.createElement(k,{formStep:1,activeStep:n,value_first_name:l,value_last_name:c,message:v,error:d,errorStep:E,handleChange:this.handleChange}),p.a.createElement(C,{formStep:2,activeStep:n,value_phone:o,value_city:s,message:v,value_gender:i,error:d,errorStep:E,handleChange:this.handleChange}),p.a.createElement(M,{formStep:3,activeStep:n,cov_user:a,submit:this.handleSubmit})))))),p.a.createElement(h.a,{className:"justify-content-center"},p.a.createElement(f.a,{md:"1",xs:"5"},p.a.createElement(N.a,{onClick:this.handleBack,disabled:0===n,"aria-pressed":"true",block:!0,color:"primary",className:"btn-pill"},"Pr\xe9c\xe9dent")),p.a.createElement(f.a,{md:"1",xs:"5"},p.a.createElement(N.a,{onClick:n>=e.length-1?this.handleSubmit:this.handleNext,"aria-pressed":"true",block:!0,color:"primary",className:"btn-pill"},n>=e.length-1?"Valider":"Suivant"),p.a.createElement("br",null))))}}]),t}(v.Component);a.default=Object(z.b)((function(e){return{cov_user:e.cov_user}}))(D)}}]);
//# sourceMappingURL=25.26ed4e41.chunk.js.map