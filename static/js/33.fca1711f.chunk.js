(this.webpackJsonpcov_gn=this.webpackJsonpcov_gn||[]).push([[33],{552:function(e,t,a){"use strict";var n=a(167),i=a(168),r=a(550),s=function(){function e(){Object(n.a)(this,e)}return Object(i.a)(e,null,[{key:"info",value:function(t,a){return r.a.info(t,Object.assign(e.options,{hideAfter:a}))}},{key:"error",value:function(t,a){return r.a.error(t,Object.assign(e.options,{hideAfter:a}))}},{key:"success",value:function(t,a){return r.a.success(t,Object.assign(e.options,{hideAfter:a}))}},{key:"loading",value:function(t,a){var n=a||1;return r.a.loading(t,Object.assign(e.options,{hideAfter:n}))}},{key:"warn",value:function(t,a){return r.a.warn(t,Object.assign(e.options,{hideAfter:a}))}}]),e}();s.options={position:"top-center",hideAfter:3};t.a=s},734:function(e,t,a){},735:function(e,t,a){e.exports=a.p+"static/media/Capture.4dabfb5a.PNG"},839:function(e,t,a){"use strict";a.r(t);var n=a(557),i=a.n(n),r=a(558),s=a(167),c=a(168),l=a(172),u=a(170),o=a(169),m=a(1),h=a.n(m),p=a(554),d=a(555),f=a(570),v=a(573),g=a(571),b=a(576),E=a(566),j=a(580),y=a(556),k=a(171),w=a(561),O=(a(734),a(595)),S=a(735),P=a.n(S),_=a(552),A=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={file:"",message:"",imagePreviewUrl:""},n.handleSubmit=n.handleSubmit.bind(Object(l.a)(n)),n.handleChange=n.handleChange.bind(Object(l.a)(n)),n.sizeMax=3e7,n}return Object(c.a)(a,[{key:"checkFile",value:function(e){var t=e.type,a=e.size,n="",i=!0;return t.startsWith("image")?parseInt(a)>parseInt(1e9)&&(n="taille max de l' image d\xe9pass\xe9e",i=!1):(n="veuillez choisir une image correcte",i=!1),{result:i,message:n}}},{key:"updateData",value:function(){var e=Object(r.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.dispatch,a=this.state.file,t(w.a.uploadPicture(this.props.cov_user.cov_mail,this.state.imagePreviewUrl,a,this.props.token)).then((function(){window.location.reload()})).catch((function(e){_.a.error("Mise \xe0 jour \xe9chou\xe9e veuillez r\xe9essayer plus tard")}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){this.updateData()}},{key:"handleChange",value:function(e){var t=this,a=e.target.files[0],n=this.checkFile(a),i=n.result,r=n.message;if(i){var s=new FileReader;s.readAsDataURL(a),s.onloadend=function(){t.setState({file:a,message:"",imagePreviewUrl:s.result})},this.setState({message:"",file:a})}else this.setState({message:r})}},{key:"componentDidMount",value:function(){this.setState({imagePreviewUrl:""});var e=this.props.cov_user;e.cov_picture&&this.setState({imagePreviewUrl:e.cov_picture})}},{key:"render",value:function(){var e=this,t=this.state,a=t.message,n=t.imagePreviewUrl;return h.a.createElement("div",{className:"animated fadeIn profile-picture"},h.a.createElement("br",null),h.a.createElement(p.a,{className:"justify-content-center center"},h.a.createElement(d.a,{xs:"12",md:"4"},h.a.createElement(f.a,null,h.a.createElement(v.a,null,h.a.createElement("strong",null,"Photo")),h.a.createElement(g.a,null,h.a.createElement(p.a,{className:"justify-content-center"},h.a.createElement(b.a,{onSubmit:function(t){return e.handleSubmit(t)},noValidate:!0},h.a.createElement(p.a,{className:"justify-content-center"},h.a.createElement("p",null,h.a.createElement("strong",null,"Ajouter une photo de profil"))),h.a.createElement("div",{id:"picture-zzone"},h.a.createElement(O.a,{alt:"Remy Sharp",src:n,width:"250",height:"250"})),h.a.createElement(E.a,{type:"hidden",invalid:""!==a}),h.a.createElement(j.a,null," ",a," "),h.a.createElement("div",{className:"image-upload"},h.a.createElement("label",{htmlFor:"file-input"},h.a.createElement("img",{alt:"alt",src:P.a})),h.a.createElement("input",{id:"file-input",type:"file",onChange:this.handleChange,accept:"image/*"})),h.a.createElement(p.a,{className:"justify-content-center"},h.a.createElement("div",null,h.a.createElement(y.a,{className:"profile-btn",color:"success",size:"md",onClick:this.handleSubmit},"Valider"),h.a.createElement("p",null,"\xa0"))))))))))}}]),a}(h.a.Component);t.default=Object(k.b)((function(e){return{cov_user:e.cov_user,token:e.auth.token}}))(A)}}]);
//# sourceMappingURL=33.fca1711f.chunk.js.map