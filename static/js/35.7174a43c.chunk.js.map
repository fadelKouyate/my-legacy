{"version":3,"sources":["views/Tools/Message/Message.js","config/Message.js","views/Profile/Base/Base.js"],"names":["Message","message","time","cogoToast","info","Object","assign","options","hideAfter","error","success","loadingtime","loading","warn","position","Profile","props","state","cov_first_name","cov_last_name","cov_mail","cov_phone","cov_birth","cov_city","cov_description","errorStep","handleChange","bind","handleSubmit","this","event","target","name","value","console","log","setState","data","UserUtils","checkValue","resultat","preventDefault","validateFields","cov_user","dispatch","UserActions","updateUser","token","then","catch","className","xs","md","lg","xl","onSubmit","e","row","htmlFor","type","id","onChange","placeholder","invalid","autoComplete","rows","color","size","React","Component","connect","auth"],"mappings":"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","file":"static/js/35.7174a43c.chunk.js","sourcesContent":["import cogoToast from 'cogo-toast';\r\nimport { MESSAGE_POSITION, HIDE_AFTER_DEFAULT, HIDE_AFTER_LOADING } from '../../../config/Message';\r\n\r\n\r\nclass Message {\r\n\r\n static options = { \r\n                  position: MESSAGE_POSITION,\r\n                  hideAfter: HIDE_AFTER_DEFAULT\r\n              }\r\n static info (message, time) {\r\n    return cogoToast.info(message, Object.assign(Message.options, { hideAfter:time }) )\r\n  }\r\n\r\n  static error (message, time) {\r\n    return cogoToast.error(message, Object.assign(Message.options, { hideAfter:time }) )\r\n  }\r\n\r\n  static success (message, time) {\r\n    return cogoToast.success(message, Object.assign(Message.options, { hideAfter:time }) )\r\n }\r\n\r\n  static loading (message, time) {\r\n    let loadingtime = time || HIDE_AFTER_LOADING\r\n    return cogoToast.loading(message, Object.assign(Message.options, { hideAfter:loadingtime }) )\r\n  }\r\n\r\n  static warn (message, time) {\r\n    return cogoToast.warn(message, Object.assign(Message.options, { hideAfter:time }) )\r\n  }\r\n\r\n}\r\n\r\nexport default Message\r\n","export const MESSAGE_POSITION = 'top-center' //top-left, top-center,top-right,bottom-left,bottom-left,bottom-right\r\nexport const HIDE_AFTER_DEFAULT = 3\r\nexport const HIDE_AFTER_LOADING = 1\r\n\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './Base.css';\r\nimport { Button, Card, CardHeader,CardBody, Col, Form, Input, \r\n         FormGroup, Label, Row, FormFeedback } from 'reactstrap';\r\nimport UserActions from '../../../store/actions/UserActions';\r\nimport Message from '../../Tools/Message/Message'\r\nimport UserUtils from '../../../utils/UserUtils'\r\n\r\nclass Profile extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            cov_first_name: '',\r\n            cov_last_name: '',\r\n            cov_mail: '',\r\n            cov_phone: '',\r\n            cov_birth: '',\r\n            cov_city: '',\r\n            cov_description: '',\r\n            errorStep: 0,\r\n            message: '',\r\n        };\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n    }\r\n\r\n    cov_user() {\r\n        let {cov_mail, cov_first_name, cov_last_name, cov_phone, cov_birth, cov_city, cov_description} = this.state;\r\n        return {\r\n          cov_mail: cov_mail,\r\n          cov_first_name : cov_first_name,\r\n          cov_last_name : cov_last_name,\r\n          cov_birth : cov_birth,\r\n          cov_phone : cov_phone,\r\n          cov_city : cov_city,\r\n          cov_description : cov_description\r\n        }\r\n      }\r\n\r\n    handleChange(event){\r\n        const {name, value} = event.target\r\n        console.log(value)\r\n        this.setState({\r\n            [name]: value\r\n        })  \r\n    }\r\n\r\n    validateFields() {\r\n        this.setState({ message:''});\r\n        let {cov_mail, cov_first_name, cov_last_name, cov_phone, cov_birth, cov_city} = this.state;\r\n        var data = {}\r\n        data = UserUtils.checkValue('cov_names', cov_first_name, 1)\r\n        if(data.resultat)\r\n           data = UserUtils.checkValue('cov_names', cov_last_name, 2)\r\n\r\n        if(data.resultat)\r\n        data = UserUtils.checkValue('cov_mail', cov_mail, 3)\r\n\r\n        if(data.resultat)\r\n        data = UserUtils.checkValue('cov_phone', cov_phone, 4)\r\n\r\n        if(data.resultat)\r\n        data = UserUtils.checkValue('cov_birth', cov_birth, 5)\r\n\r\n        if(data.resultat)\r\n        data = UserUtils.checkValue('cov_city', cov_city, 6)\r\n    \r\n        if (! data.resultat) {\r\n            this.setState({ message:data.message, errorStep:data.errorStep});\r\n            return ;\r\n        }\r\n\r\n        return data.resultat\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        if (! this.validateFields())\r\n           return ;\r\n        let cov_user = this.cov_user();\r\n        this.props.dispatch(UserActions.updateUser(cov_user, this.props.token))\r\n        .then(() => {\r\n            Message.success('Modifications enregistrées avec succès')         \r\n        })\r\n        .catch((error) => {\r\n            Message.error('Mise à jour échouée veuillez réessayer plus tard');\r\n        }) \r\n    }\r\n    \r\n    componentDidMount(){\r\n        let { cov_user } = this.props;\r\n        \r\n        console.log(\"name \" + cov_user.cov_last_name)\r\n        this.setState({\r\n            cov_mail:cov_user.cov_mail,\r\n            cov_first_name : cov_user.cov_first_name,\r\n            cov_last_name : cov_user.cov_last_name,\r\n            cov_birth : cov_user.cov_birth,\r\n            cov_phone : cov_user.cov_phone,\r\n            cov_city : cov_user.cov_city,\r\n            cov_description : cov_user.cov_description || '',\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let {cov_mail, cov_first_name, cov_last_name, cov_phone, cov_birth, cov_city, cov_description, message, errorStep} = this.state;\r\n        return (\r\n            <div className=\"profile-infos\">\r\n                <Row className=\"justify-content-center cov-zone\">\r\n                    <Col xs=\"12\" md=\"12\" lg=\"12\" xl=\"10\">\r\n                    <Card className=\"mx-4\">\r\n                        <CardHeader> \r\n                            Mes informations personnelles\r\n                        </CardHeader>\r\n                        <CardBody className=\"p-4\">\r\n                            <Form onSubmit={ (e) => this.handleSubmit(e) }>\r\n                                <FormGroup row>\r\n                                    <Col md=\"6\">\r\n                                        <Label htmlFor=\"nf-first-name\">Nom</Label>\r\n                                        <Input type=\"text\" id=\"nf-first-name\" name=\"cov_first_name\" \r\n                                                value={cov_first_name} onChange={this.handleChange}  \r\n                                                placeholder=\"Votre nom..\"\r\n                                                invalid={ message !== \"\" && errorStep === 1 }\r\n                                                />\r\n                                         <FormFeedback> {message} </FormFeedback>\r\n                                    </Col>\r\n                                    <Col md=\"6\">\r\n                                        <Label htmlFor=\"nf-last-name\">Prénom</Label>\r\n                                        <Input type=\"text\" id=\"nf-last-name\" name=\"cov_last_name\" \r\n                                                value={cov_last_name} onChange={this.handleChange}  \r\n                                                placeholder=\"Votre prenom..\"\r\n                                                invalid={ message !== \"\" && errorStep === 2 }\r\n                                                />\r\n                                         <FormFeedback> {message} </FormFeedback>\r\n                                    </Col>\r\n                                </FormGroup>\r\n\r\n                                <FormGroup row>\r\n                                    <Col md=\"6\">\r\n                                        <Label htmlFor=\"nf-email\">Email</Label>\r\n                                        <Input type=\"email\" id=\"nf-email\" name=\"cov_mail\" \r\n                                                value={cov_mail} onChange={this.handleChange} \r\n                                                placeholder=\"Votre email..\" autoComplete=\"email\"\r\n                                                invalid={ message !== \"\" && errorStep === 3 }\r\n                                                />\r\n                                         <FormFeedback> {message} </FormFeedback>\r\n                                    </Col>\r\n                                    <Col md=\"6\">\r\n                                        <Label htmlFor=\"nf-last-phone\">Numéro</Label>\r\n                                        <Input type=\"text\" id=\"nf-last-phone\" name=\"cov_phone\" \r\n                                                value={cov_phone} onChange={this.handleChange} \r\n                                                placeholder=\"Votre numéro..\"\r\n                                                invalid={ message !== \"\" && errorStep === 4 }\r\n                                                />\r\n                                         <FormFeedback> {message} </FormFeedback>\r\n                                    </Col>\r\n                                </FormGroup>\r\n\r\n                                <FormGroup row>\r\n                                    <Col md=\"6\">\r\n                                        <Label htmlFor=\"date-input\">Date de naissance</Label>\r\n                                        <Input type=\"date\" id=\"date-input\" name=\"cov_birth\" \r\n                                                value={cov_birth} onChange={this.handleChange} \r\n                                                placeholder=\"date\" \r\n                                                invalid={ message !== \"\" && errorStep === 5 }\r\n                                                />\r\n                                         <FormFeedback> {message} </FormFeedback>\r\n                                    </Col>\r\n                                    <Col md=\"6\">\r\n                                        <Label htmlFor=\"city-input\">Ville</Label>\r\n                                        <Input type=\"text\" id=\"city-input\" name=\"cov_city\" \r\n                                                value={cov_city} onChange={this.handleChange} \r\n                                                placeholder=\"ville\"\r\n                                                invalid={ message !== \"\" && errorStep === 6 }\r\n                                                />\r\n                                         <FormFeedback> {message} </FormFeedback>\r\n                                    </Col>\r\n                                </FormGroup>\r\n\r\n                                <FormGroup>\r\n                                    <Label htmlFor=\"textarea-input\">Description</Label>\r\n                                    <Input type=\"textarea\" id=\"textarea-input\" name=\"cov_description\" rows=\"2\" \r\n                                            value={cov_description} onChange={this.handleChange} placeholder=\"Content...\" />\r\n                                </FormGroup>\r\n                                \r\n                                <Row className=\"justify-content-center\">\r\n                                            <Button className=\"profile-btn\" color=\"success\" size=\"md\">Enregister</Button>\r\n                                            <div>\r\n                                                <p>\r\n                                                <br />&nbsp;\r\n                                                </p>\r\n                                            </div>\r\n                                </Row>\r\n                            </Form>\r\n                        </CardBody>\r\n                    </Card>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        );\r\n}\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        cov_user: state.cov_user,\r\n        token: state.auth.token\r\n    }\r\n} \r\n\r\nexport default connect(mapStateToProps)(Profile);\r\n"],"sourceRoot":""}