(this["webpackJsonpmy-legacy"]=this["webpackJsonpmy-legacy"]||[]).push([[35],{552:function(e,a,t){"use strict";var n=t(167),c=t(168),o=t(550),l=function(){function e(){Object(n.a)(this,e)}return Object(c.a)(e,null,[{key:"info",value:function(a,t){return o.a.info(a,Object.assign(e.options,{hideAfter:t}))}},{key:"error",value:function(a,t){return o.a.error(a,Object.assign(e.options,{hideAfter:t}))}},{key:"success",value:function(a,t){return o.a.success(a,Object.assign(e.options,{hideAfter:t}))}},{key:"loading",value:function(a,t){var n=t||1;return o.a.loading(a,Object.assign(e.options,{hideAfter:n}))}},{key:"warn",value:function(a,t){return o.a.warn(a,Object.assign(e.options,{hideAfter:t}))}}]),e}();l.options={position:"top-center",hideAfter:3};a.a=l},711:function(e,a,t){},808:function(e,a,t){"use strict";t.r(a);var n=t(173),c=t(167),o=t(168),l=t(172),r=t(170),i=t(169),s=t(1),m=t.n(s),u=t(171),v=(t(711),t(554)),h=t(555),_=t(570),d=t(573),p=t(571),f=t(576),E=t(640),g=t(641),b=t(566),y=t(580),k=t(556),C=t(561),j=t(552),O=t(578),S=function(e){Object(r.a)(t,e);var a=Object(i.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={cov_first_name:"",cov_last_name:"",cov_mail:"",cov_phone:"",cov_birth:"",cov_city:"",cov_description:"",errorStep:0,message:""},n.handleChange=n.handleChange.bind(Object(l.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(l.a)(n)),n}return Object(o.a)(t,[{key:"cov_user",value:function(){var e=this.state,a=e.cov_mail,t=e.cov_first_name,n=e.cov_last_name,c=e.cov_phone;return{cov_mail:a,cov_first_name:t,cov_last_name:n,cov_birth:e.cov_birth,cov_phone:c,cov_city:e.cov_city,cov_description:e.cov_description}}},{key:"handleChange",value:function(e){var a=e.target,t=a.name,c=a.value;console.log(c),this.setState(Object(n.a)({},t,c))}},{key:"validateFields",value:function(){this.setState({message:""});var e=this.state,a=e.cov_mail,t=e.cov_first_name,n=e.cov_last_name,c=e.cov_phone,o=e.cov_birth,l=e.cov_city,r={};if((r=O.a.checkValue("cov_names",t,1)).resultat&&(r=O.a.checkValue("cov_names",n,2)),r.resultat&&(r=O.a.checkValue("cov_mail",a,3)),r.resultat&&(r=O.a.checkValue("cov_phone",c,4)),r.resultat&&(r=O.a.checkValue("cov_birth",o,5)),r.resultat&&(r=O.a.checkValue("cov_city",l,6)),r.resultat)return r.resultat;this.setState({message:r.message,errorStep:r.errorStep})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),this.validateFields()){var a=this.cov_user();this.props.dispatch(C.a.updateUser(a,this.props.token)).then((function(){j.a.success("Modifications enregistr\xe9es avec succ\xe8s")})).catch((function(e){j.a.error("Mise \xe0 jour \xe9chou\xe9e veuillez r\xe9essayer plus tard")}))}}},{key:"componentDidMount",value:function(){var e=this.props.cov_user;console.log("name "+e.cov_last_name),this.setState({cov_mail:e.cov_mail,cov_first_name:e.cov_first_name,cov_last_name:e.cov_last_name,cov_birth:e.cov_birth,cov_phone:e.cov_phone,cov_city:e.cov_city,cov_description:e.cov_description||""})}},{key:"render",value:function(){var e=this,a=this.state,t=a.cov_mail,n=a.cov_first_name,c=a.cov_last_name,o=a.cov_phone,l=a.cov_birth,r=a.cov_city,i=a.cov_description,s=a.message,u=a.errorStep;return m.a.createElement("div",{className:"profile-infos"},m.a.createElement(v.a,{className:"justify-content-center cov-zone"},m.a.createElement(h.a,{xs:"12",md:"12",lg:"12",xl:"10"},m.a.createElement(_.a,{className:"mx-4"},m.a.createElement(d.a,null,"Mes informations personnelles"),m.a.createElement(p.a,{className:"p-4"},m.a.createElement(f.a,{onSubmit:function(a){return e.handleSubmit(a)}},m.a.createElement(E.a,{row:!0},m.a.createElement(h.a,{md:"6"},m.a.createElement(g.a,{htmlFor:"nf-first-name"},"Nom"),m.a.createElement(b.a,{type:"text",id:"nf-first-name",name:"cov_first_name",value:n,onChange:this.handleChange,placeholder:"Votre nom..",invalid:""!==s&&1===u}),m.a.createElement(y.a,null," ",s," ")),m.a.createElement(h.a,{md:"6"},m.a.createElement(g.a,{htmlFor:"nf-last-name"},"Pr\xe9nom"),m.a.createElement(b.a,{type:"text",id:"nf-last-name",name:"cov_last_name",value:c,onChange:this.handleChange,placeholder:"Votre prenom..",invalid:""!==s&&2===u}),m.a.createElement(y.a,null," ",s," "))),m.a.createElement(E.a,{row:!0},m.a.createElement(h.a,{md:"6"},m.a.createElement(g.a,{htmlFor:"nf-email"},"Email"),m.a.createElement(b.a,{type:"email",id:"nf-email",name:"cov_mail",value:t,onChange:this.handleChange,placeholder:"Votre email..",autoComplete:"email",invalid:""!==s&&3===u}),m.a.createElement(y.a,null," ",s," ")),m.a.createElement(h.a,{md:"6"},m.a.createElement(g.a,{htmlFor:"nf-last-phone"},"Num\xe9ro"),m.a.createElement(b.a,{type:"text",id:"nf-last-phone",name:"cov_phone",value:o,onChange:this.handleChange,placeholder:"Votre num\xe9ro..",invalid:""!==s&&4===u}),m.a.createElement(y.a,null," ",s," "))),m.a.createElement(E.a,{row:!0},m.a.createElement(h.a,{md:"6"},m.a.createElement(g.a,{htmlFor:"date-input"},"Date de naissance"),m.a.createElement(b.a,{type:"date",id:"date-input",name:"cov_birth",value:l,onChange:this.handleChange,placeholder:"date",invalid:""!==s&&5===u}),m.a.createElement(y.a,null," ",s," ")),m.a.createElement(h.a,{md:"6"},m.a.createElement(g.a,{htmlFor:"city-input"},"Ville"),m.a.createElement(b.a,{type:"text",id:"city-input",name:"cov_city",value:r,onChange:this.handleChange,placeholder:"ville",invalid:""!==s&&6===u}),m.a.createElement(y.a,null," ",s," "))),m.a.createElement(E.a,null,m.a.createElement(g.a,{htmlFor:"textarea-input"},"Description"),m.a.createElement(b.a,{type:"textarea",id:"textarea-input",name:"cov_description",rows:"2",value:i,onChange:this.handleChange,placeholder:"Content..."})),m.a.createElement(v.a,{className:"justify-content-center"},m.a.createElement(k.a,{className:"profile-btn",color:"success",size:"md"},"Enregister"),m.a.createElement("div",null,m.a.createElement("p",null,m.a.createElement("br",null),"\xa0")))))))))}}]),t}(m.a.Component);a.default=Object(u.b)((function(e){return{cov_user:e.cov_user,token:e.auth.token}}))(S)}}]);
//# sourceMappingURL=35.be7ed8ed.chunk.js.map